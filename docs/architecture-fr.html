<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Visualisation interactive de l'architecture TRNG RadioNoise - Du bruit radio aux mots de passe cryptographiques">
    <title>Architecture TRNG RadioNoise</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #050505;
            color: #e0e0e0;
            font-family: 'Space Mono', monospace;
            overflow-x: auto;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        /* Effet grille radar */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(rgba(0, 255, 200, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 200, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
            z-index: 0;
        }

        /* Bruit de fond subtil */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.04;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 0;
        }

        .container {
            position: relative;
            z-index: 1;
            padding: 60px;
            min-width: 1200px;
        }

        .diagram {
            display: flex;
            flex-direction: column;
            gap: 80px;
            position: relative;
        }

        .row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 40px;
            position: relative;
        }

        .row-bottom {
            flex-direction: row-reverse;
            padding-right: 200px;
        }

        .module {
            background: rgba(10, 15, 20, 0.8);
            border: 1px solid rgba(0, 255, 200, 0.3);
            padding: 25px 30px;
            min-width: 180px;
            text-align: center;
            position: relative;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 20px rgba(0, 255, 200, 0.1),
                        inset 0 0 20px rgba(0, 255, 200, 0.05);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .module:hover {
            border-color: rgba(0, 255, 200, 0.8);
            box-shadow: 0 0 30px rgba(0, 255, 200, 0.3),
                        inset 0 0 30px rgba(0, 255, 200, 0.1);
            transform: translateY(-2px);
        }

        .module::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, transparent, rgba(0, 255, 200, 0.3), transparent);
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .module:hover::before {
            opacity: 1;
        }

        .module-icon {
            font-size: 24px;
            margin-bottom: 10px;
            display: block;
            color: #00ffc8;
        }

        .module-title {
            font-size: 14px;
            font-weight: 700;
            color: #00ffc8;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .module-subtitle {
            font-size: 11px;
            color: rgba(224, 224, 224, 0.6);
        }

        /* Connexions anim√©es */
        .connection {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, transparent, #00ffc8, transparent);
            background-size: 200% 100%;
            animation: flow 2s linear infinite;
            opacity: 0.5;
        }

        .connection-vertical {
            width: 2px;
            height: 80px;
            background: linear-gradient(180deg, transparent, #00ffc8, transparent);
            background-size: 100% 200%;
            animation: flowVertical 2s linear infinite;
        }

        @keyframes flow {
            0% { background-position: 100% 0; }
            100% { background-position: -100% 0; }
        }

        @keyframes flowVertical {
            0% { background-position: 0 100%; }
            100% { background-position: 0 -100%; }
        }

        /* Lignes de connexion SVG */
        svg.connections {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .signal-line {
            fill: none;
            stroke: #00ffc8;
            stroke-width: 2;
            opacity: 0.3;
            stroke-dasharray: 10, 5;
            animation: dash 20s linear infinite;
        }

        .signal-line.active {
            opacity: 0.8;
            stroke-width: 3;
            filter: drop-shadow(0 0 5px #00ffc8);
        }

        @keyframes dash {
            to {
                stroke-dashoffset: -1000;
            }
        }

        /* Particules de signal anim√©es */
        .signal-particle {
            fill: #00ffc8;
            r: 3;
            filter: drop-shadow(0 0 6px #00ffc8);
        }

        /* Indicateurs d'√©tat */
        .status-led {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 6px;
            height: 6px;
            background: #00ffc8;
            border-radius: 50%;
            box-shadow: 0 0 10px #00ffc8;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        /* L√©gende technique */
        .legend {
            position: absolute;
            bottom: -60px;
            left: 0;
            font-size: 10px;
            color: rgba(224, 224, 224, 0.4);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Effet scanline */
        .scanline {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: rgba(0, 255, 200, 0.1);
            animation: scan 8s linear infinite;
            pointer-events: none;
            z-index: 100;
        }

        @keyframes scan {
            0% { transform: translateY(0); }
            100% { transform: translateY(100vh); }
        }

        /* Infobulle explicative */
        .tooltip {
            position: absolute;
            background: rgba(0, 20, 20, 0.95);
            border: 1px solid #00ffc8;
            padding: 15px;
            font-size: 11px;
            max-width: 250px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            z-index: 1000;
            box-shadow: 0 0 20px rgba(0, 255, 200, 0.2);
            left: 50%;
            transform: translateX(-50%);
            white-space: normal;
            text-align: left;
        }

        /* Infobulles rang√©e du haut : au-dessus */
        #topRow .tooltip {
            bottom: 100%;
            margin-bottom: 10px;
        }

        /* Infobulles rang√©e du bas : en-dessous */
        #bottomRow .tooltip {
            top: 100%;
            margin-top: 10px;
        }

        .module:hover .tooltip {
            opacity: 1;
        }

        h1 {
            text-align: center;
            margin-bottom: 60px;
            font-size: 18px;
            color: #00ffc8;
            text-transform: uppercase;
            letter-spacing: 4px;
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 25%;
            width: 50%;
            height: 1px;
            background: linear-gradient(90deg, transparent, #00ffc8, transparent);
        }

        /* Lien GitHub */
        .github-link {
            position: fixed;
            top: 20px;
            right: 20px;
            color: #00ffc8;
            text-decoration: none;
            font-size: 12px;
            opacity: 0.6;
            transition: opacity 0.3s;
            z-index: 101;
        }

        .github-link:hover {
            opacity: 1;
        }

        /* S√©lecteur de langue */
        .lang-switch {
            position: fixed;
            top: 20px;
            right: 140px;
            color: #00ffc8;
            text-decoration: none;
            font-size: 12px;
            opacity: 0.6;
            transition: opacity 0.3s;
            z-index: 101;
        }

        .lang-switch:hover {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="scanline"></div>

    <a href="architecture.html" class="lang-switch">EN</a>
    <a href="https://github.com/Sherub1/RadioNoise" class="github-link" target="_blank">Voir sur GitHub</a>

    <div class="container">
        <h1>RadioNoise TRNG - Cha√Æne de Traitement</h1>

        <svg class="connections" id="svgConnections">
            <!-- Lignes dessin√©es par JavaScript -->
        </svg>

        <div class="diagram">
            <!-- Rang√©e du haut -->
            <div class="row" id="topRow">
                <div class="module">
                    <span class="status-led"></span>
                    <span class="module-icon">üì°</span>
                    <div class="module-title">Antenne Radio</div>
                    <div class="module-subtitle">Source d'Entropie</div>
                    <div class="tooltip">R√©ception du bruit atmosph√©rique et des signaux RF non-d√©terministes (thermique + cosmique)</div>
                </div>

                <div class="module">
                    <span class="status-led"></span>
                    <span class="module-icon">üìª</span>
                    <div class="module-title">RTL-SDR</div>
                    <div class="module-subtitle">Convertisseur ADC</div>
                    <div class="tooltip">Conversion analogique-num√©rique du spectre radio √† 2.4 M√©ch/s (√©chantillons I/Q 8 bits)</div>
                </div>

                <div class="module">
                    <span class="status-led"></span>
                    <span class="module-icon">„Ä∞Ô∏è</span>
                    <div class="module-title">Bruit Brut</div>
                    <div class="module-subtitle">√âchantillons I/Q</div>
                    <div class="tooltip">Donn√©es brutes non compress√©es du tuner avec haute entropie initiale (~6-7 bits/octet)</div>
                </div>

                <div class="module">
                    <span class="status-led"></span>
                    <span class="module-icon">‚öóÔ∏è</span>
                    <div class="module-title">Von Neumann</div>
                    <div class="module-subtitle">Extracteur</div>
                    <div class="tooltip">Algorithme de d√©biaisage : 01‚Üí0, 10‚Üí1, rejette 00 et 11. Sortie ~8 bits/octet d'entropie</div>
                </div>

                <div class="module">
                    <span class="status-led"></span>
                    <span class="module-icon">üß™</span>
                    <div class="module-title">Tests NIST</div>
                    <div class="module-subtitle">Suite SP 800-22</div>
                    <div class="tooltip">Batterie de tests statistiques : fr√©quence, runs, rang matriciel, spectral, entropie, etc.</div>
                </div>
            </div>

            <!-- Rang√©e du bas (flux invers√©) -->
            <div class="row row-bottom" id="bottomRow">
                <div class="module">
                    <span class="status-led"></span>
                    <span class="module-icon">üîê</span>
                    <div class="module-title">Bits Valid√©s</div>
                    <div class="module-subtitle">Entropie Certifi√©e</div>
                    <div class="tooltip">Flux de bits avec entropie minimale garantie (>0.999 bits/bit)</div>
                </div>

                <div class="module">
                    <span class="status-led"></span>
                    <span class="module-icon">#Ô∏è‚É£</span>
                    <div class="module-title">Fonction Hash</div>
                    <div class="module-subtitle">SHA-256</div>
                    <div class="tooltip">Conditionnement cryptographique : extraction condens√©e de 256 bits par bloc</div>
                </div>

                <div class="module">
                    <span class="status-led"></span>
                    <span class="module-icon">üóùÔ∏è</span>
                    <div class="module-title">G√©n√©ration MDP</div>
                    <div class="module-subtitle">Sortie Finale</div>
                    <div class="tooltip">Mappage vers charset alphanum√©rique + sp√©ciaux (entropie >128 bits par mot de passe)</div>
                </div>
            </div>
        </div>

        <div class="legend">
            RadioNoise - G√©n√©rateur de Nombres Al√©atoires par Bruit Thermique Radio ¬∑ <span id="timestamp"></span>
        </div>
    </div>

    <script>
        // Dessiner les connexions SVG
        function drawConnections() {
            const svg = document.getElementById('svgConnections');
            const topRow = document.getElementById('topRow');
            const bottomRow = document.getElementById('bottomRow');
            const modulesTop = topRow.querySelectorAll('.module');
            const modulesBottom = bottomRow.querySelectorAll('.module');

            svg.innerHTML = '';

            const containerRect = document.querySelector('.container').getBoundingClientRect();

            // Connexions horizontales (rang√©e du haut)
            for (let i = 0; i < modulesTop.length - 1; i++) {
                const start = modulesTop[i];
                const end = modulesTop[i + 1];
                const startRect = start.getBoundingClientRect();
                const endRect = end.getBoundingClientRect();

                const x1 = startRect.right - containerRect.left;
                const y1 = startRect.top + startRect.height / 2 - containerRect.top;
                const x2 = endRect.left - containerRect.left;
                const y2 = endRect.top + endRect.height / 2 - containerRect.top;

                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                path.setAttribute('d', `M ${x1} ${y1} L ${x2} ${y2}`);
                path.setAttribute('class', 'signal-line');
                svg.appendChild(path);
            }

            // Connexion verticale (Tests NIST -> Bits Valid√©s)
            const lastTop = modulesTop[modulesTop.length - 1];
            const firstBottom = modulesBottom[0];
            const lastTopRect = lastTop.getBoundingClientRect();
            const firstBottomRect = firstBottom.getBoundingClientRect();

            const x1 = lastTopRect.left + lastTopRect.width / 2 - containerRect.left;
            const y1 = lastTopRect.bottom - containerRect.top;
            const x2 = firstBottomRect.left + firstBottomRect.width / 2 - containerRect.left;
            const y2 = firstBottomRect.top - containerRect.top;

            // Ligne verticale puis horizontale
            const pathV = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            pathV.setAttribute('d', `M ${x1} ${y1} L ${x1} ${y1 + 40} L ${x2} ${y1 + 40} L ${x2} ${y2}`);
            pathV.setAttribute('class', 'signal-line active');
            svg.appendChild(pathV);

            // Connexions horizontales (rang√©e du bas, invers√©es)
            for (let i = 0; i < modulesBottom.length - 1; i++) {
                const start = modulesBottom[i];
                const end = modulesBottom[i + 1];
                const startRect = start.getBoundingClientRect();
                const endRect = end.getBoundingClientRect();

                const x1 = startRect.left - containerRect.left;
                const y1 = startRect.top + startRect.height / 2 - containerRect.top;
                const x2 = endRect.right - containerRect.left;
                const y2 = endRect.top + endRect.height / 2 - containerRect.top;

                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                path.setAttribute('d', `M ${x1} ${y1} L ${x2} ${y2}`);
                path.setAttribute('class', 'signal-line');
                svg.appendChild(path);
            }
        }

        // Animation des particules de signal
        function createParticle(path) {
            const particle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            particle.setAttribute('class', 'signal-particle');

            const length = path.getTotalLength();
            let progress = 0;

            function animate() {
                progress += 2;
                if (progress > length) {
                    progress = 0;
                }
                const point = path.getPointAtLength(progress);
                particle.setAttribute('cx', point.x);
                particle.setAttribute('cy', point.y);
                requestAnimationFrame(animate);
            }

            path.parentNode.appendChild(particle);
            animate();
        }

        // Initialisation
        window.addEventListener('load', () => {
            drawConnections();
            document.querySelectorAll('.signal-line').forEach(line => {
                if (Math.random() > 0.5) createParticle(line);
            });
            document.getElementById('timestamp').textContent = new Date().toISOString();
        });

        window.addEventListener('resize', drawConnections);

        // Interaction : surbrillance du flux au survol
        document.querySelectorAll('.module').forEach((module, index) => {
            module.addEventListener('mouseenter', () => {
                const lines = document.querySelectorAll('.signal-line');
                lines.forEach((line, i) => {
                    if (Math.abs(i - index) < 2) {
                        line.style.opacity = '1';
                        line.style.stroke = '#ffff00';
                    }
                });
            });

            module.addEventListener('mouseleave', () => {
                document.querySelectorAll('.signal-line').forEach(line => {
                    line.style.opacity = '';
                    line.style.stroke = '';
                });
            });
        });
    </script>
</body>
</html>
